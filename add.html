<!DOCTYPE html><html lang="ar"><head>  <meta charset="UTF-8">  <title>✏️ تعديل الكوميكس</title>  <meta name="viewport" content="width=device-width, initial-scale=1.0">  <style>    body {      font-family: 'Arial', sans-serif;      background-color: #f2f2f2;      direction: rtl;      padding: 20px;      text-align: center;    }    form {      background: white;      padding: 20px;      max-width: 600px;      margin: auto;      border-radius: 10px;      box-shadow: 0 0 10px rgba(0,0,0,0.1);    }    input, textarea, button {      width: 100%;      padding: 10px;      margin: 10px 0;    }    .images-container img {      width: 100px;      margin: 10px;      border-radius: 6px;    }    .image-item {      display: inline-block;      position: relative;    }    .remove-btn {      position: absolute;      top: 0;      left: 0;      background: red;      color: white;      border: none;      cursor: pointer;      font-size: 12px;      border-radius: 50%;      width: 20px;      height: 20px;    }    .add-btn {      background-color: #1a73e8;      color: white;      font-weight: bold;      border: none;      padding: 10px;      border-radius: 6px;      cursor: pointer;    }    .drop-zone {      border: 2px dashed #999;      padding: 20px;      border-radius: 10px;      color: #666;      margin-top: 10px;      transition: background 0.3s;    }    .drop-zone.dragover {      background: #e0f7ff;    }  </style></head><body>  <h2>✏️ تعديل الكوميكس</h2>  <form id="editForm">    <input type="text" id="title" placeholder="عنوان الكوميك" required>    <textarea id="desc" placeholder="وصف الكوميك"></textarea>    <input type="text" id="category" placeholder="التصنيف">    <div>      <h3>🖼️ الصور الحالية</h3>      <div class="images-container" id="imagesContainer"></div>    </div>    <input type="url" id="newImage" placeholder="رابط صورة جديدة">    <button type="button" class="add-btn" onclick="addImage()">➕ أضف صورة</button>    <div class="drop-zone" id="dropZone">      🚀 اسحب وأفلت رابط صورة هنا    </div>    <button type="submit">💾 حفظ التعديلات</button>    <a href="index.html">🔙 رجوع</a>  </form>  <script>    const index = localStorage.getItem("editIndex");    const comics = JSON.parse(localStorage.getItem("comics")) || [];    const comic = comics[index];    const imagesContainer = document.getElementById("imagesContainer");    const dropZone = document.getElementById("dropZone");    if (!comic) {      alert("❌ لم يتم العثور على الكوميكس.");      window.location.href = "index.html";    }    // تعبئة البيانات    document.getElementById("title").value = comic.title;    document.getElementById("desc").value = comic.desc;    document.getElementById("category").value = comic.category || "";    let images = comic.images || (comic.image ? [comic.image] : []);    function renderImages() {      imagesContainer.innerHTML = "";      images.forEach((src, i) => {        const div = document.createElement("div");        div.className = "image-item";        div.innerHTML = `          <img src="${src}" alt="صورة ${i + 1}">          <button class="remove-btn" onclick="removeImage(${i})">×</button>        `;        imagesContainer.appendChild(div);      });    }    function removeImage(indexToRemove) {      images.splice(indexToRemove, 1);      renderImages();    }    function addImage() {      const newSrc = document.getElementById("newImage").value.trim();      if (newSrc) {        images.push(newSrc);        document.getElementById("newImage").value = "";        renderImages();      }    }    function handleDrop(event) {      event.preventDefault();      dropZone.classList.remove("dragover");      const data = event.dataTransfer.getData("text/plain").trim();      if (data.startsWith("http")) {        images.push(data);        renderImages();      } else {        alert("⚠️ يرجى إفلات رابط صورة صالح فقط.");      }    }    // Drag and drop setup    dropZone.addEventListener("dragover", (e) => {      e.preventDefault();      dropZone.classList.add("dragover");    });    dropZone.addEventListener("dragleave", () => {      dropZone.classList.remove("dragover");    });    dropZone.addEventListener("drop", handleDrop);    renderImages();    document.getElementById("editForm").addEventListener("submit", function(e) {      e.preventDefault();      comic.title = document.getElementById("title").value.trim();      comic.desc = document.getElementById("desc").value.trim();      comic.category = document.getElementById("category").value.trim();      comic.images = images;      delete comic.image;      comics[index] = comic;      localStorage.setItem("comics", JSON.stringify(comics));      alert("✅ تم حفظ التعديلات!");      window.location.href = "index.html";    });  </script></body></html>